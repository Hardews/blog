---
slug: shell-passing-arguments
title: Shell 传参
sidebar_position: 3
---



# Shell 传递参数

我们可以在执行 Shell 脚本时，向这个脚本传递参数，脚本内获取参数的格式为：$n（n 从 0 开始，代表第 n + 1 个参数）。

其中，第一个参数一般为文件名（也就是下标为 0 的元素）。

一个小 demo

```shell
#!/bin/bash
# demo1.sh
echo "本次脚本执行的文件名为 ${0}"
echo "第一个参数为 ${1}"
echo "第二个参数为 ${2}"
```

cd 到文件目录

```sh
chmod +x demo1.sh
./demo1.sh 1 2
```

输出

```sh
本次脚本执行的文件名为 ./demo1.sh
第一个参数为 1
第二个参数为 2
```

此外，有几个特殊字符的参数：

| 参数 | 说明                                                 |
| ---- | ---------------------------------------------------- |
| $#   | 传递到脚本的参数个数                                 |
| $*   | 以单一字符串显示所有向脚本传递的参数                 |
| $$   | 脚本运行的当前进程 ID 号                             |
| $!   | 后台运行的最后一个进程的 ID 号                       |
| $@   | 与 $* 相同，但是使用时加引号，并在引号中返回各个参数 |
| $-   | 显示 Shell 使用的当前选项                            |
| $?   | 显示最后命令的退出状态。                             |

**一个小 demo**

```shell
#!/bin/bash
# demo2.sh
echo "传递到脚本的参数个数为: ${#}"
echo "传递到脚本的所有参数: ${*}"
echo "传递到脚本的所有参数: ${@}"
echo "当前脚本运行的进程号: $$"
echo "后台运行的最后一个进程号: $!"
echo "当前选项: $-"
echo "本脚本的退出状态: $?"
```

调用参数

```sh
./demo2.sh 1 67 55 hardews
```

输出

```text
传递到脚本的参数个数为: 4
传递到脚本的所有参数: 1 67 55 hardews
传递到脚本的所有参数: 1 67 55 hardews
当前脚本运行的进程号: 56466
后台运行的最后一个进程号: 
当前选项: hB
本脚本的退出状态: 0
```

